#include <wiringPi.h>
#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#define C1 4
#define C2 7
#define C3 0
#define C4 24
#define C5 3
#define C6 6
#define C7 16
#define C8 15
#define R1 25
#define R2 1
#define R3 13
#define R4 5
#define R5 8
#define R6 12
#define R7 9
#define R8 2
#define PERIOD 0.1 // delay (s)

int rows[8] = {R1, R2, R3, R4, R5, R6, R7, R8};
int cols[8] = {C1, C2, C3, C4, C5, C6, C7, C8};

void clear_pin() {
    wiringPiSetup();
    for (int i = 0; i < 8; i++) {
        pinMode(rows[i], OUTPUT);
        pinMode(cols[i], OUTPUT);
        digitalWrite(rows[i], LOW);
        digitalWrite(cols[i], HIGH);
    }
}

int matrix[10][8][8]={
    {
        {0,0,1,1,1,0,0,0},
        {0,1,0,0,0,1,0,0},
        {0,1,0,0,0,1,0,0},
        {0,1,0,0,0,1,0,0},
        {0,1,0,0,0,1,0,0},
        {0,1,0,0,0,1,0,0},
        {0,1,0,0,0,1,0,0},
        {0,0,1,1,1,0,0,0}
    },
    {
        {0,0,0,1,0,0,0,0},
        {0,0,1,1,0,0,0,0},
        {0,0,0,1,0,0,0,0},
        {0,0,0,1,0,0,0,0},
        {0,0,0,1,0,0,0,0},
        {0,0,0,1,0,0,0,0},
        {0,0,0,1,0,0,0,0},
        {0,0,1,1,1,0,0,0}
    },
    {
        {0,0,1,1,1,0,0,0},
        {0,1,0,0,0,1,0,0},
        {0,0,0,0,0,1,0,0},
        {0,0,0,0,0,1,0,0},
        {0,0,0,0,1,0,0,0},
        {0,0,0,1,0,0,0,0},
        {0,0,1,0,0,0,0,0},
        {0,1,1,1,1,1,0,0}
    },
    {
        {0,0,1,1,1,0,0,0},
        {0,1,0,0,0,1,0,0},
        {0,0,0,0,0,1,0,0},
        {0,0,1,1,1,1,0,0},
        {0,0,0,0,0,1,0,0},
        {0,0,0,0,0,1,0,0},
        {0,1,0,0,0,1,0,0},
        {0,0,1,1,1,0,0,0}
    },
    {
        {0,0,0,0,0,1,0,0},
        {0,0,0,0,1,1,0,0},
        {0,0,0,1,0,1,0,0},
        {0,0,1,0,0,1,0,0},
        {0,1,0,0,0,1,0,0},
        {0,1,1,1,1,1,1,0},
        {0,0,0,0,0,1,0,0},
        {0,0,0,0,0,1,0,0}
    },
    {
        {0,1,1,1,1,1,0,0},
        {0,1,0,0,0,0,0,0},
        {0,1,0,0,0,0,0,0},
        {0,1,1,1,1,1,0,0},
        {0,0,0,0,0,1,0,0},
        {0,0,0,0,0,1,0,0},
        {0,1,0,0,0,1,0,0},
        {0,0,1,1,1,1,0,0}
    },
    {
        {0,0,1,1,1,0,0,0},
        {0,1,0,0,0,1,0,0},
        {0,1,0,0,0,0,0,0},
        {0,1,1,1,1,0,0,0},
        {0,1,0,0,0,1,0,0},
        {0,1,0,0,0,1,0,0},
        {0,1,0,0,0,1,0,0},
        {0,0,1,1,1,0,0,0}
    },
    {
        {0,0,1,1,1,1,1,0},
        {0,0,0,0,0,0,1,0},
        {0,0,0,0,0,0,1,0},
        {0,0,0,0,0,1,0,0},
        {0,0,0,0,1,0,0,0},
        {0,0,0,1,0,0,0,0},
        {0,0,0,1,0,0,0,0},
        {0,0,0,1,0,0,0,0}
    },
    {
        {0,0,0,1,1,1,0,0},
        {0,0,1,0,0,0,1,0},
        {0,0,1,0,0,0,1,0},
        {0,0,0,1,1,1,0,0},
        {0,0,1,0,0,0,1,0},
        {0,0,1,0,0,0,1,0},
        {0,0,1,0,0,0,1,0},
        {0,0,0,1,1,1,0,0}
    },
    {
        {0,0,0,1,1,1,0,0},
        {0,0,1,0,0,0,1,0},
        {0,0,1,0,0,0,1,0},
        {0,0,1,0,0,0,1,0},
        {0,0,0,1,1,1,1,0},
        {0,0,0,0,0,0,1,0},
        {0,0,1,0,0,0,1,0},
        {0,0,0,1,1,1,0,0}
    }
};

void display(int num) {
    for (int i = 0; i < 8; i++) {
        digitalWrite(rows[i], HIGH);
        for (int j = 0; j < 8; j++){
            if(matrix[num][i][j]) digitalWrite(cols[j], LOW);
            delay(0.1);
            digitalWrite(cols[j],HIGH);
        }
        digitalWrite(rows[i], LOW);
    }
}
void show(int num){
    clock_t start_t = clock();
    while(PERIOD >= (double)(clock() - start_t)/CLOCKS_PER_SEC){
        display(num);
    }
}
int main(void) {
    clear_pin();
    int num;
    for(num = 0; num <= 9; num++){
        show(num);
    }
    return 0;
}



